(function(a){a.fn.extend({filter_input:function(b){var d={regex:".",negkey:false,live:false,events:"keypress paste"};var b=a.extend(d,b);function e(j){var f=(j.input)?j.input:a(this);if(j.ctrlKey||j.altKey){return}if(j.type=="keypress"){var h=j.charCode?j.charCode:j.keyCode?j.keyCode:0;if(h==8||h==9||h==13||h==35||h==36||h==37||h==39||h==46){if(j.charCode==0&&j.keyCode==h){return true}}var g=String.fromCharCode(h);if(b.negkey&&g==b.negkey){if(f.val().substr(0,1)==g){f.val(f.val().substring(1,f.val().length)).change()}else{f.val(g+f.val()).change()}return false}var i=new RegExp(b.regex)}else{if(j.type=="paste"){f.data("value_before_paste",j.target.value);setTimeout(function(){e({type:"after_paste",input:f})},1);return true}else{if(j.type=="after_paste"){var g=f.val();var i=new RegExp("^("+b.regex+")+$")}else{return false}}}if(i.test(g)){return true}else{if(typeof(b.feedback)=="function"){b.feedback.call(this,g)}}if(j.type=="after_paste"){f.val(f.data("value_before_paste"))}return false}var c=a.fn.jquery.split(".");if(b.live){if(parseInt(c[0])>=1&&parseInt(c[1])>=7){a(this).on(b.events,e)}else{a(this).live(b.events,e)}}else{return this.each(function(){var f=a(this);if(parseInt(c[0])>=1&&parseInt(c[1])>=7){f.off(b.events).on(b.events,e)}else{f.unbind(b.events).bind(b.events,e)}})}}})})(jQuery);